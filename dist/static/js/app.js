webpackJsonp([1],{0:function(t,e){},"0um2":function(t,e){},"2Dnj":function(t,e){},"4+hh":function(t,e){},"4uMd":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("//Fk"),r=s.n(a),n=s("7+uW"),i=s("mtWM"),o=s.n(i),d=function(t){return o.a.post(window.BI_BASE_CONFIG.API+"/login2",t).then(function(t){return t}).catch(function(t){return r.a.reject(t.response)})},c=function(){return o.a.get(window.BI_BASE_CONFIG.API+"/logout")},u=function(){return o.a.get(window.BI_BASE_CONFIG.API+"/profile").then(function(t){return t}).catch(function(t){return r.a.reject(t.response)})},l=function(t){return t.password_code?o.a.post(window.BI_BASE_CONFIG.API+"/reset",t).then(function(t){return t}).catch(function(t){return r.a.reject(t.response)}):o.a.get(window.BI_BASE_CONFIG.API+"/reset?email="+t.email)},m=s("/ocq"),v={props:{forgot:Function,setState:Function},mounted:function(){},data:function(){return{user:{email:""},message:void 0}},methods:{onSubmit:function(){var t=this;this.message=void 0,this.forgot(this.user).then(function(e){t.message={success:!0,message:"Eine Email mit einem Link zum zurücksetzen ihres Passwortes wurde an folgende Adresse geschickt: \n\n"+t.user.email+"."}}).catch(function(){t.message={success:!1,text:"Fehler."}})}},computed:{}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-form md-layout md-gutter md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-33 bi-card-container"},[s("md-card",[s("md-card-header",[s("div",{staticClass:"md-headline"},[t._v("Passwort zurücksetzen")])]),t._v(" "),s("md-card-content",[s("md-field",{class:{"md-input-invalid":t.errors.has("email")}},[s("label",{attrs:{for:"email"}},[t._v("Ihre Email Adresse*")]),t._v(" "),s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"email",type:"email",name:"email","data-vv-rules":"required|email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("email"),expression:"errors.has('email')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("email")))]),t._v(" "),t.message?s("p",{class:{"md-error":!t.message.success}},[t._v(t._s(t.message.text))]):t._e()],1)],1),t._v(" "),s("md-card-actions",[s("md-button",{staticClass:"bi-login-button md-raised md-primary",attrs:{disabled:t.errors.any()},on:{click:t.onSubmit}},[t._v("PASSWORT ANFORDERN")])],1),t._v(" "),s("md-card-actions",[s("md-button",{staticClass:"bi-login-button",on:{click:function(e){t.showState("login")}}},[t._v("Zurück zum login")])],1)],1),t._v(" "),s("div",{staticClass:"bi-copyright"},[t._v("© 2018")])],1)])},staticRenderFns:[]};var f=s("VU/8")(v,p,!1,function(t){s("aUig")},null,null).exports,_={props:{login:Function,setState:Function},mounted:function(){},data:function(){return{user:{username:"",password:""},errorMessage:null}},methods:{onSubmit:function(){var t=this;this.errorMessage=null,this.login(this.user).then(function(t){A.push("overview")},function(e){401===e.status&&(t.errorMessage="Bitte überprüfen Sie ihren Namen und das Passwort.")})}},computed:{isValid:function(){return""!==this.user.username&&""!==this.user.password}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-form md-layout md-gutter md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-33 bi-card-container"},[s("h1",{staticClass:"bi-powered"},[t._v("POWERED BY CORE")]),t._v(" "),s("md-card",[s("md-card-header",[s("div",{staticClass:"md-title bi-headline"},[t._v("CORE")])]),t._v(" "),s("md-card-content",[s("md-field",{class:{"md-input-invalid":t.errors.has("username")}},[s("label",{attrs:{for:"password"}},[t._v("Nutzername*")]),t._v(" "),s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"username",type:"text",name:"username","data-vv-rules":"required|min:4"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),t._v(" "),s("p",{staticClass:"md-error"},[t._v(t._s(t.errors.first("username")))])],1),t._v(" "),s("md-field",{class:{"md-input-invalid":t.errors.has("password")}},[s("label",{attrs:{for:"password"}},[t._v("Passwort*")]),t._v(" "),s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"password",type:"password",name:"password","data-vv-rules":"required"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("password")))]),t._v(" "),t.errorMessage?s("p",{staticClass:"md-error"},[t._v(t._s(t.errorMessage))]):t._e()],1)],1),t._v(" "),s("md-card-actions",[s("md-button",{staticClass:"bi-login-button md-raised md-primary",attrs:{disabled:t.errors.any()||!t.isValid},on:{click:t.onSubmit}},[t._v("LOGIN")])],1),t._v(" "),s("md-card-actions",[s("md-button",{staticClass:"bi-login-button",on:{click:function(e){t.setState("forgot")}}},[t._v("Paswort zurücksetzen")])],1)],1),t._v(" "),s("div",{staticClass:"bi-copyright"},[t._v("© 2018")])],1)])},staticRenderFns:[]};var w={mounted:function(){this.state="login"},components:{LoginForm:s("VU/8")(_,h,!1,function(t){s("QkHm")},null,null).exports,ForgotForm:f},data:function(){return{state:void 0}},methods:{login:function(t){return d(t)},forgot:function(t){return l(t)},setState:function(t){this.state=t}},created:function(){}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page",attrs:{id:"login"}},["login"===t.state?s("login-form",{attrs:{login:t.login,setState:t.setState}}):t._e(),t._v(" "),"forgot"===t.state?s("forgot-form",{attrs:{forgot:t.forgot,setState:t.setState}}):t._e()],1)},staticRenderFns:[]};var b=s("VU/8")(w,g,!1,function(t){s("kWC0")},null,null).exports,C={props:{reset:Function},mounted:function(){},data:function(){return{user:{password:""}}},methods:{onSubmit:function(){}},computed:{}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-form md-layout md-gutter md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-33 bi-card-container"},[s("md-card",[s("md-card-header",[s("div",{staticClass:"md-headline"},[t._v("Neuse Passwort*")])]),t._v(" "),s("md-card-content",[s("md-field",{class:{"md-input-invalid":t.errors.has("password")}},[s("label",{attrs:{for:"password"}},[t._v("Neues Passwort*")]),t._v(" "),s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"password",type:"password",name:"password","data-vv-rules":"'required'"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password"),expression:"errors.has('password')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("password")))])],1),t._v(" "),s("md-field",{class:{"md-input-invalid":t.errors.has("password2")}},[s("label",{attrs:{for:"password2"}},[t._v("Neues Passwort wiederholen*")]),t._v(" "),s("md-input",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"password2",type:"password",name:"password","data-vv-as":"password","data-vv-rules":"'required|confirmed:password'"},model:{value:t.user.password2,callback:function(e){t.$set(t.user,"password2",e)},expression:"user.password2"}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("password2"),expression:"errors.has('password2')"}],staticClass:"md-error"},[t._v(t._s(t.errors.first("password2")))])],1)],1),t._v(" "),s("md-card-actions",[s("md-button",{staticClass:"bi-login-button md-raised md-primary",attrs:{disabled:t.errors.any()},on:{click:t.onSubmit}},[t._v("Weiter")])],1),t._v(" "),s("md-card-actions",[s("md-button",{staticClass:"bi-login-button",on:{click:function(e){t.showState("login")}}},[t._v("Zurück zum login")])],1)],1),t._v(" "),s("div",{staticClass:"bi-copyright"},[t._v("© 2018")])],1)])},staticRenderFns:[]};var N={mounted:function(){},components:{ResetForm:s("VU/8")(C,y,!1,function(t){s("0um2")},null,null).exports},data:function(){return{}},methods:{reset:function(t){return l(t)}},created:function(){}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page",attrs:{id:"login"}},[e("reset-form",{attrs:{reset:this.reset}})],1)},staticRenderFns:[]};var F=s("VU/8")(N,k,!1,function(t){s("h8Bx")},null,null).exports,x=function(){return o.a.get(window.BI_BASE_CONFIG.API+"/pro?extra=public,meta.client,meta.campaign,meta.description,goals.priority,goals.budget,goals.kpi,targetGroups.meta.title,targetGroups.meta.type,mediaChannels.type,dateRange.total,result.resultsetIds").then(function(t){return t.data.result}).catch(function(t){return r.a.reject(t.response)})},I={mounted:function(){var t=this;x().then(function(e){t.projects=e})},components:{},methods:{},data:function(){return{projects:null}},created:function(){}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bi-page md-layout md-gutter md-alignment-center",attrs:{id:"overview"}},[s("md-card",{staticClass:"md-layout-item md-size-25"},[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v("Test Page")])]),t._v(" "),s("md-card-content",[s("router-link",{attrs:{to:"/"}},[t._v("Zurück")])],1),t._v(" "),s("md-card-actions")],1)],1)},staticRenderFns:[]};var E=s("VU/8")(I,S,!1,function(t){s("2Dnj")},"data-v-97a2723a",null).exports;n.default.use(m.a);var A=new m.a({mode:"hash",routes:[{path:"/",name:"login",component:b},{path:"/reset/:code",name:"reset",component:F},{path:"/overview",name:"overview",component:E}]}),P={props:{login:Function},data:function(){return{showNavigation:!1}},methods:{logout:function(){c().then(function(t){A.push("/")})}},created:function(){},computed:{}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbar"},[s("md-toolbar",{staticClass:"md-dense"},[s("div",{staticClass:"md-toolbar-row"},[s("div",{staticClass:"md-toolbar-section-start"},[s("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.showNavigation=!0}}},[s("md-icon",[t._v("menu")])],1)],1),t._v(" "),s("h3",{staticClass:"bi-navbar-title"},[t._v("CORE")]),t._v(" "),s("div",{staticClass:"md-toolbar-section-end"},[s("md-button",{staticClass:"md-icon-button",on:{click:t.logout}},[s("md-icon",[t._v("power_settings_new")])],1)],1)])]),t._v(" "),s("md-drawer",{attrs:{"md-active":t.showNavigation},on:{"update:mdActive":function(e){t.showNavigation=e}}},[s("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}}),t._v(" "),s("div",{staticClass:"bi-profile-container md-layout"},[s("div",{staticClass:"bi-profile-image md-layout-item md-layout md-alignment-center md-size-33"},[s("md-icon",[t._v("account_circle")])],1),t._v(" "),s("span",{staticClass:"md-layout-item  md-size-66"},[s("div",{staticClass:"bi-user-name"},[t._v("User")]),t._v(" "),s("div",{staticClass:"bi-user-mail"},[t._v("Mail")])])]),t._v(" "),s("md-list",[s("md-list-item"),t._v(" "),s("md-list-item",[s("md-icon",[t._v("move_to_inbox")]),t._v(" "),s("span",{staticClass:"md-list-item-text"},[t._v("Inbox")])],1)],1)],1)],1)},staticRenderFns:[]};var R={mounted:function(){u()},components:{Navbar:s("VU/8")(P,B,!1,function(t){s("4uMd")},null,null).exports},methods:{},created:function(){},data:function(){return{}},computed:{isNavVisible:function(){return-1===["login","reset"].indexOf(this.$route.name)}}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.isNavVisible?s("navbar"):t._e(),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("router-view")],1)],1)},staticRenderFns:[]};var z=s("VU/8")(R,O,!1,function(t){s("t5MU")},null,null).exports,U=s("8+8L"),$=s("sUu7"),j=s("yu4w"),M=s.n(j),V=s("Lgyv"),G=s.n(V);s("4+hh");n.default.use($.a),n.default.use(M.a),n.default.use(U.a),n.default.use(G.a),o.a.interceptors.response.use(function(t){return t},function(t){if(401!==t.response.status||"login"===A.history.current.name||"reset"===A.history.current.name)return r.a.reject(t);console.log(A.history.current.name),A.push("/")}),o.a.interceptors.request.use(function(t){return t.headers.Accept="application/json",t.withCredentials=!0,t},function(t){return r.a.reject(t)}),n.default.http.interceptors.push(function(t,e){t.credentials=!0,t.headers.set("Accept","application/json"),e()}),n.default.config.productionTip=!1,window.BI_BASE_CONFIG={API:"http://localhost:5010",MAIN_ROUTE:"overview"};var q=new n.default({el:"#app",router:A,components:{App:z},template:"<App/>"});e.default=q},QkHm:function(t,e){},aUig:function(t,e){},h8Bx:function(t,e){},kWC0:function(t,e){},t5MU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.js.map